<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        body {
            padding: 50px;
        }

        li {
            margin-bottom: 10px
        }
    </style>

</head>

<body>


    <div id="ex1"></div>
    <div id="ex2"></div>
    <div id="ex3"></div>

    <script type="module" src="./ex01.js"></script>
    <script type="module" src="./ex02.js"></script>
    <script type="module" src="./ex03.js"></script>

    <script type="module">
        import { getMinSymmetryPrime, } from "./ex01.js"
        import { getMedian, } from "./ex02.js"
        import { getMinMissingPositiveIntegers } from "./ex03.js"

        (function ex01() {
            var inputs = [-1, 4, 8]

            var outputs = deepClone(inputs).map(getMinSymmetryPrime);

            var printResultItem = outputs.map(function (output, index) {
                return `<li>Input: ${inputs[index]}  <br> OutPut: ${outputs[index]}  </li>`
            }).join("")


            document.querySelector("#ex1").innerHTML = `
                <h2>Bài 1: </h2>
                <p> Cho một số nguyên n, trả về số nguyên tố đối xứng nhỏ nhất lớn hơn hoặc bằng n.</p>
                <b>kết quả</b>
                <ul>
                    ${printResultItem}
                </ul>`
        })();

        (function ex02() {
            var inputs = [
                [
                    [1, 3], [2]
                ],
                [
                    [1, 2], [3, 4]
                ],
                [
                    [1, 2], [3, 7]
                ]

            ]

            var newArrs = deepClone(inputs)
                .map(function (arr) {
                    return arr.flat(1)
                })
                .map(toSortedArray)

            var outputs = deepClone(inputs).map(function (arrs) {
                return getMedian(arrs[0], arrs[1])
            });



            var inputStrs = inputs.map(function (input) {
                return arrToString(input[0]) + ", " + arrToString(input[1])
            })

            var newArrStrs = newArrs.map(arrToString)

            var printResultItem = outputs.map(function (output, index) {
                return `<li>Input: ${inputStrs[index]}<br>New sorted array: ${newArrStrs[index]}  <br> OutPut: ${outputs[index]}  </li>`
            }).join("")


            document.querySelector("#ex2").innerHTML = `
                <h2>Bài 2:</h2>
                <p> Cho hai mảng đã sắp xếp nums1 và nums2 có kích thước lần lượt là m và n, trả về trung vị của hai mảng đã sắp xếp đó..</p>
                <b>kết quả</b>
                <ul>
                    ${printResultItem}
                </ul>`
        })();

        (function ex03() {
            var inputs = [
                [1, 2, 0],
                [3, 4, -1, 1],
                [7, 8, 9, 11, 12]
            ]
            var newArrs = deepClone(inputs).map(toSortedArray)

            var outputs = deepClone(inputs).map(getMinMissingPositiveIntegers)

            var inputStrs = inputs.map(arrToString)

            var newArrStrs = newArrs.map(arrToString)
            var printResultItem = outputs.map(function (output, index) {
                return `<li>Input: ${inputStrs[index]}<br>New sorted array: ${newArrStrs[index]}  <br> OutPut: ${outputs[index]}  </li>`
            }).join("")


            document.querySelector("#ex3").innerHTML = `
                <h2>Bài 3: </h2>
                <p> Cho một mảng số nguyên chưa được sắp xếp nums. Hãy trả về số nguyên dương nhỏ nhất không có trong nums.</p>
                <b>kết quả</b>
                <ul>
                    ${printResultItem}
                </ul>`
        })();

        function deepClone(arr) {
            return JSON.parse(JSON.stringify(arr))
        }

        function toSortedArray(arr) {
            arr.sort(function (a, b) {
                return a - b
            })
            return arr
        }

        function arrToString(arr) {
            return "[" + arr + "]"
        }
    </script>
</body>

</html>